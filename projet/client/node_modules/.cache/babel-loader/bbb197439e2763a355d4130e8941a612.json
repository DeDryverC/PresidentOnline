{"ast":null,"code":"var _jsxFileName = \"/home/debian/hosting/projet/client/src/pages/Profil/Profil.js\";\nimport React from \"react\";\nimport NavigationProfil from \"../../components/NavigationProfil\";\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Button from 'react-bootstrap/Button';\nimport CookieConsent from 'react-cookie-consent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Profil extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      /*name:'',\n      surname:'',\n      email:'',\n      pseudo:'Neshtai',\n      /*password:'',\n      winrate:'39 %',\n      victory:'214',\n      roundpresi:'107',\n      roundvp:'58',\n      roundvtdc:'137',\n      roundtdc:'72',*/\n      donneesprofil: '',\n      donneesstats: [],\n      gameAmount: '',\n      email: localStorage.getItem(\"Email\"),\n      pseudo: localStorage.getItem(\"Pseudo\")\n    };\n  }\n\n  async componentDidMount() {\n    await fetch(`http://135.125.101.210:5000/profil/${this.state.pseudo}`).then(response => response.json()).then(json => {\n      this.setState({\n        donneesprofil: json[0]\n      });\n    });\n    await fetch(`http://135.125.101.210:5000/statistics/${this.state.pseudo}`).then(response => response.json()).then(json => {\n      this.setState({\n        donneesstats: json\n      });\n    });\n    let wins = 0;\n\n    for (let item of this.state.donneesstats) {\n      if (item.Position === 1) {\n        wins++;\n      }\n    }\n\n    this.setState({\n      playerWins: wins\n    });\n  }\n\n  handleSubmit(event) {\n    //console.log(this.state.pseudo)\n    event.preventDefault();\n    fetch(`http://135.125.101.210:5000/delprofile/${localStorage.getItem(\"Pseudo\")}`, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        \"Access-Control-Allow-Origin\": \"true\"\n      },\n      body: JSON.stringify({\n        pseudo: localStorage.getItem(\"Pseudo\")\n      })\n    }).then(response => response.json()).then(json => {}).catch(error => {\n      alert(\"Can't delete your account, try again.\");\n    });\n    alert(\"Your account has been deleted !\");\n    localStorage.setItem('Connect', false);\n    window.location.href = \"http://135.125.101.210/\";\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"html\", {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"hautpage\",\n            children: /*#__PURE__*/_jsxDEV(NavigationProfil, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 32,\n              color: 'white',\n              marginTop: '10%'\n            },\n            children: \" Name : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 25,\n              color: 'white'\n            },\n            children: [\" \", this.state.donneesprofil.Name, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 126\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 32,\n              color: 'white'\n            },\n            children: \" Surname : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 25,\n              color: 'white'\n            },\n            children: [\" \", this.state.donneesprofil.Surname, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 129\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 32,\n              color: 'white'\n            },\n            children: \" Email : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 25,\n              color: 'white'\n            },\n            children: [\" \", this.state.donneesprofil.Email, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 127\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 32,\n              color: 'white'\n            },\n            children: \" Pseudo : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 25,\n              color: 'white'\n            },\n            children: [\" \", this.state.donneesprofil.Pseudo, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 128\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 32,\n              color: 'white',\n              marginTop: '9%'\n            },\n            children: \" Games played : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 25,\n              color: 'white'\n            },\n            children: [\" \", this.state.donneesstats.length, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 127\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 32,\n              color: 'white',\n              marginTop: '9%'\n            },\n            children: \" Wins : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 25,\n              color: 'white'\n            },\n            children: [\" \", this.state.playerWins, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 118\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 32,\n              color: 'white',\n              marginTop: '9%'\n            },\n            children: \" Ratio : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 25,\n              color: 'white'\n            },\n            children: [\" \", (this.state.playerWins / this.state.donneesstats.length).toFixed(2), \" Win(s) per lose \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 178\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              color: \"red\",\n              fontSize: 35\n            },\n            variant: \"outline-info\",\n            onClick: this.handleSubmit,\n            block: true,\n            children: \" Delete my account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CookieConsent, {\n        onAccept: localStorage.setItem('Cookies', true),\n        location: \"bottom\",\n        style: {\n          backgroundColor: 'DarkRed',\n          fontSize: 20\n        },\n        buttonStyle: {\n          backgroundColor: \"palegoldenrod\",\n          fontSize: 20\n        },\n        buttonText: \"I agree !\",\n        expires: 365,\n        children: \"This website uses cookies, accept them to remove the banner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Profil;","map":{"version":3,"sources":["/home/debian/hosting/projet/client/src/pages/Profil/Profil.js"],"names":["React","NavigationProfil","Col","Row","Button","CookieConsent","Profil","Component","constructor","props","state","donneesprofil","donneesstats","gameAmount","email","localStorage","getItem","pseudo","componentDidMount","fetch","then","response","json","setState","wins","item","Position","playerWins","handleSubmit","event","preventDefault","method","headers","Accept","body","JSON","stringify","catch","error","alert","setItem","window","location","href","render","textAlign","fontSize","color","marginTop","Name","Surname","Email","Pseudo","length","toFixed","backgroundColor"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,gBAAP,MAA6B,mCAA7B;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,aAAP,MAA0B,sBAA1B;;;AAEA,MAAMC,MAAN,SAAqBN,KAAK,CAACO,SAA3B,CAAqC;AAEjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAW;AACP;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACYC,MAAAA,aAAa,EAAC,EAZP;AAaPC,MAAAA,YAAY,EAAC,EAbN;AAcPC,MAAAA,UAAU,EAAC,EAdJ;AAePC,MAAAA,KAAK,EAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAfC;AAgBPC,MAAAA,MAAM,EAACF,YAAY,CAACC,OAAb,CAAqB,QAArB;AAhBA,KAAX;AAmBD;;AAIsB,QAAjBE,iBAAiB,GAAE;AACvB,UAAMC,KAAK,CAAE,sCAAqC,KAAKT,KAAL,CAAWO,MAAO,EAAzD,CAAL,CACHG,IADG,CACEC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADd,EAEHF,IAFG,CAEEE,IAAI,IAAI;AACZ,WAAKC,QAAL,CAAc;AAACZ,QAAAA,aAAa,EAAEW,IAAI,CAAC,CAAD;AAApB,OAAd;AACD,KAJG,CAAN;AAMA,UAAMH,KAAK,CAAE,0CAAyC,KAAKT,KAAL,CAAWO,MAAO,EAA7D,CAAL,CACHG,IADG,CACEC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADd,EAEHF,IAFG,CAEEE,IAAI,IAAI;AACZ,WAAKC,QAAL,CAAc;AAACX,QAAAA,YAAY,EAAEU;AAAf,OAAd;AACD,KAJG,CAAN;AAMA,QAAIE,IAAI,GAAC,CAAT;;AACA,SAAI,IAAIC,IAAR,IAAgB,KAAKf,KAAL,CAAWE,YAA3B,EAAwC;AACpC,UAAGa,IAAI,CAACC,QAAL,KAAkB,CAArB,EAAuB;AACnBF,QAAAA,IAAI;AACP;AACJ;;AACD,SAAKD,QAAL,CAAc;AAACI,MAAAA,UAAU,EAAEH;AAAb,KAAd;AACH;;AAGDI,EAAAA,YAAY,CAACC,KAAD,EAAQ;AAChB;AACAA,IAAAA,KAAK,CAACC,cAAN;AACAX,IAAAA,KAAK,CAAE,0CAAyCJ,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+B,EAA1E,EAA4E;AAE3Ee,MAAAA,MAAM,EAAC,QAFoE;AAG3EC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AAEP,wBAAgB,kBAFT;AAGP,uCAA8B;AAHvB,OAHkE;AAQ3EC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBnB,QAAAA,MAAM,EAACF,YAAY,CAACC,OAAb,CAAqB,QAArB;AADY,OAAf;AARqE,KAA5E,CAAL,CAaOI,IAbP,CAaYC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAbxB,EAcKF,IAdL,CAcUE,IAAI,IAAI,CAEX,CAhBP,EAgBSe,KAhBT,CAgBgBC,KAAD,IAAW;AAIlBC,MAAAA,KAAK,CAAC,uCAAD,CAAL;AAEL,KAtBH;AAuBEA,IAAAA,KAAK,CAAC,iCAAD,CAAL;AACAxB,IAAAA,YAAY,CAACyB,OAAb,CAAqB,SAArB,EAAgC,KAAhC;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAsB,yBAAtB;AACL;;AAGDC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACI,QAAC,GAAD;AAAA,+BACI,QAAC,GAAD;AAAA,iCACI;AAAK,YAAA,KAAK,EAAC,UAAX;AAAA,mCACI,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAQI,QAAC,GAAD;AAAA,gCACI,QAAC,GAAD;AAAA,kCACI;AAAI,YAAA,KAAK,EAAE;AAACC,cAAAA,SAAS,EAAE,QAAZ;AAAsBC,cAAAA,QAAQ,EAAE,EAAhC;AAAoCC,cAAAA,KAAK,EAAC,OAA1C;AAAkDC,cAAAA,SAAS,EAAC;AAA5D,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAI,YAAA,KAAK,EAAE;AAACH,cAAAA,SAAS,EAAE,QAAZ;AAAsBC,cAAAA,QAAQ,EAAE,EAAhC;AAAoCC,cAAAA,KAAK,EAAC;AAA1C,aAAX;AAAA,4BAAiE,KAAKrC,KAAL,CAAWC,aAAX,CAAyBsC,IAA1F;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAEyG;AAAA;AAAA;AAAA;AAAA,kBAFzG,eAGI;AAAI,YAAA,KAAK,EAAE;AAACJ,cAAAA,SAAS,EAAE,QAAZ;AAAsBC,cAAAA,QAAQ,EAAE,EAAhC;AAAoCC,cAAAA,KAAK,EAAC;AAA1C,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII;AAAI,YAAA,KAAK,EAAE;AAACF,cAAAA,SAAS,EAAE,QAAZ;AAAsBC,cAAAA,QAAQ,EAAE,EAAhC;AAAoCC,cAAAA,KAAK,EAAC;AAA1C,aAAX;AAAA,4BAAiE,KAAKrC,KAAL,CAAWC,aAAX,CAAyBuC,OAA1F;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAI4G;AAAA;AAAA;AAAA;AAAA,kBAJ5G,eAKI;AAAI,YAAA,KAAK,EAAE;AAACL,cAAAA,SAAS,EAAE,QAAZ;AAAsBC,cAAAA,QAAQ,EAAE,EAAhC;AAAoCC,cAAAA,KAAK,EAAC;AAA1C,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALJ,eAMI;AAAI,YAAA,KAAK,EAAE;AAACF,cAAAA,SAAS,EAAE,QAAZ;AAAsBC,cAAAA,QAAQ,EAAE,EAAhC;AAAoCC,cAAAA,KAAK,EAAC;AAA1C,aAAX;AAAA,4BAAiE,KAAKrC,KAAL,CAAWC,aAAX,CAAyBwC,KAA1F;AAAA;AAAA;AAAA;AAAA;AAAA,kBANJ,eAM0G;AAAA;AAAA;AAAA;AAAA,kBAN1G,eAOI;AAAI,YAAA,KAAK,EAAE;AAACN,cAAAA,SAAS,EAAE,QAAZ;AAAsBC,cAAAA,QAAQ,EAAE,EAAhC;AAAoCC,cAAAA,KAAK,EAAC;AAA1C,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPJ,eAQI;AAAI,YAAA,KAAK,EAAE;AAACF,cAAAA,SAAS,EAAE,QAAZ;AAAsBC,cAAAA,QAAQ,EAAE,EAAhC;AAAoCC,cAAAA,KAAK,EAAC;AAA1C,aAAX;AAAA,4BAAiE,KAAKrC,KAAL,CAAWC,aAAX,CAAyByC,MAA1F;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ,eAQ2G;AAAA;AAAA;AAAA;AAAA,kBAR3G;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAYI,QAAC,GAAD;AAAA,kCAEI;AAAI,YAAA,KAAK,EAAE;AAACP,cAAAA,SAAS,EAAE,QAAZ;AAAsBC,cAAAA,QAAQ,EAAE,EAAhC;AAAoCC,cAAAA,KAAK,EAAC,OAA1C;AAAmDC,cAAAA,SAAS,EAAC;AAA7D,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAI,YAAA,KAAK,EAAE;AAACH,cAAAA,SAAS,EAAE,QAAZ;AAAsBC,cAAAA,QAAQ,EAAE,EAAhC;AAAoCC,cAAAA,KAAK,EAAC;AAA1C,aAAX;AAAA,4BAAiE,KAAKrC,KAAL,CAAWE,YAAX,CAAwByC,MAAzF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAG0G;AAAA;AAAA;AAAA;AAAA,kBAH1G,eAII;AAAI,YAAA,KAAK,EAAE;AAACR,cAAAA,SAAS,EAAE,QAAZ;AAAsBC,cAAAA,QAAQ,EAAE,EAAhC;AAAoCC,cAAAA,KAAK,EAAC,OAA1C;AAAmDC,cAAAA,SAAS,EAAC;AAA7D,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAKI;AAAI,YAAA,KAAK,EAAE;AAACH,cAAAA,SAAS,EAAE,QAAZ;AAAsBC,cAAAA,QAAQ,EAAE,EAAhC;AAAoCC,cAAAA,KAAK,EAAC;AAA1C,aAAX;AAAA,4BAAiE,KAAKrC,KAAL,CAAWiB,UAA5E;AAAA;AAAA;AAAA;AAAA;AAAA,kBALJ,eAKiG;AAAA;AAAA;AAAA;AAAA,kBALjG,eAMI;AAAI,YAAA,KAAK,EAAE;AAACkB,cAAAA,SAAS,EAAE,QAAZ;AAAsBC,cAAAA,QAAQ,EAAE,EAAhC;AAAoCC,cAAAA,KAAK,EAAC,OAA1C;AAAmDC,cAAAA,SAAS,EAAC;AAA7D,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANJ,eAOI;AAAI,YAAA,KAAK,EAAE;AAACH,cAAAA,SAAS,EAAE,QAAZ;AAAsBC,cAAAA,QAAQ,EAAE,EAAhC;AAAoCC,cAAAA,KAAK,EAAC;AAA1C,aAAX;AAAA,4BAAiE,CAAC,KAAKrC,KAAL,CAAWiB,UAAX,GAAsB,KAAKjB,KAAL,CAAWE,YAAX,CAAwByC,MAA/C,EAAuDC,OAAvD,CAA+D,CAA/D,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPJ,eAO6J;AAAA;AAAA;AAAA;AAAA,kBAP7J;AAAA;AAAA;AAAA;AAAA;AAAA,gBAZJ;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,eA8BI,QAAC,GAAD;AAAA,+BACI,QAAC,GAAD;AAAA,iCACI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAE;AAACP,cAAAA,KAAK,EAAC,KAAP;AAAcD,cAAAA,QAAQ,EAAE;AAAxB,aAAf;AAA2C,YAAA,OAAO,EAAC,cAAnD;AAAkE,YAAA,OAAO,EAAE,KAAKlB,YAAhF;AAA8F,YAAA,KAAK,MAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cA9BJ,eAoCI,QAAC,aAAD;AACgB,QAAA,QAAQ,EAAEb,YAAY,CAACyB,OAAb,CAAqB,SAArB,EAA+B,IAA/B,CAD1B;AAEgB,QAAA,QAAQ,EAAC,QAFzB;AAGgB,QAAA,KAAK,EAAE;AAAEe,UAAAA,eAAe,EAAG,SAApB;AAA+BT,UAAAA,QAAQ,EAAC;AAAxC,SAHvB;AAIgB,QAAA,WAAW,EAAE;AAACS,UAAAA,eAAe,EAAC,eAAjB;AAAkCT,UAAAA,QAAQ,EAAC;AAA3C,SAJ7B;AAKgB,QAAA,UAAU,EAAC,WAL3B;AAMgB,QAAA,OAAO,EAAE,GANzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cApCJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAiDH;;AArIgC;;AAwIrC,eAAexC,MAAf","sourcesContent":["import React from \"react\";\nimport NavigationProfil from \"../../components/NavigationProfil\";\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\nimport Button from 'react-bootstrap/Button'\nimport CookieConsent from 'react-cookie-consent';\n\nclass Profil extends React.Component {\n\n    constructor(props) {\n        super(props);\n       \n        this.state={\n            /*name:'',\n            surname:'',\n            email:'',\n            pseudo:'Neshtai',\n            /*password:'',\n            winrate:'39 %',\n            victory:'214',\n            roundpresi:'107',\n            roundvp:'58',\n            roundvtdc:'137',\n            roundtdc:'72',*/\n            donneesprofil:'',\n            donneesstats:[],\n            gameAmount:'',\n            email:localStorage.getItem(\"Email\"),\n            pseudo:localStorage.getItem(\"Pseudo\")\n   \n        }\n      }\n\n    \n\n      async componentDidMount(){\n        await fetch(`http://135.125.101.210:5000/profil/${this.state.pseudo}`)\n          .then(response => response.json())\n          .then(json => {\n            this.setState({donneesprofil: json[0]})\n          })\n\n        await fetch(`http://135.125.101.210:5000/statistics/${this.state.pseudo}`)\n          .then(response => response.json())\n          .then(json => {\n            this.setState({donneesstats: json})\n          })\n        \n        let wins=0;\n        for(let item of this.state.donneesstats){\n            if(item.Position === 1){\n                wins++;\n            }\n        }\n        this.setState({playerWins: wins});\n    };\n\n\n    handleSubmit(event) {\n        //console.log(this.state.pseudo)\n        event.preventDefault();\n        fetch(`http://135.125.101.210:5000/delprofile/${localStorage.getItem(\"Pseudo\")}`,{\n             \n              method:'DELETE',\n              headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                \"Access-Control-Allow-Origin\":\"true\"\n              },\n              body: JSON.stringify({\n                pseudo:localStorage.getItem(\"Pseudo\"),\n              }),\n              \n              \n            }).then(response => response.json())\n            .then(json => {\n\n              }).catch((error) => {\n               \n                \n                \n                alert(\"Can't delete your account, try again.\");\n                \n          });\n          alert(\"Your account has been deleted !\")\n          localStorage.setItem('Connect', false)\n          window.location.href= \"http://135.125.101.210/\"\n    }\n\n\n    render() {\n        return (\n            <html>\n                <Row>  \n                    <Col>\n                        <div class=\"hautpage\">\n                            <NavigationProfil />\n                        </div> \n                    </Col> \n                </Row>\n                <Row>\n                    <Col>\n                        <h2 style={{textAlign: \"center\", fontSize: 32, color:'white',marginTop:'10%'}}> Name : </h2>\n                        <h2 style={{textAlign: \"center\", fontSize: 25, color:'white'}}> {this.state.donneesprofil.Name} </h2><br></br>\n                        <h2 style={{textAlign: \"center\", fontSize: 32, color:'white'}}> Surname : </h2>\n                        <h2 style={{textAlign: \"center\", fontSize: 25, color:'white'}}> {this.state.donneesprofil.Surname} </h2><br></br>\n                        <h2 style={{textAlign: \"center\", fontSize: 32, color:'white'}}> Email : </h2>\n                        <h2 style={{textAlign: \"center\", fontSize: 25, color:'white'}}> {this.state.donneesprofil.Email} </h2><br></br>\n                        <h2 style={{textAlign: \"center\", fontSize: 32, color:'white'}}> Pseudo : </h2>\n                        <h2 style={{textAlign: \"center\", fontSize: 25, color:'white'}}> {this.state.donneesprofil.Pseudo} </h2><br></br>\n\n                    </Col>\n                    <Col>\n                        \n                        <h2 style={{textAlign: \"center\", fontSize: 32, color:'white', marginTop:'9%'}}> Games played : </h2>\n                        <h2 style={{textAlign: \"center\", fontSize: 25, color:'white'}}> {this.state.donneesstats.length} </h2><br></br>\n                        <h2 style={{textAlign: \"center\", fontSize: 32, color:'white', marginTop:'9%'}}> Wins : </h2>\n                        <h2 style={{textAlign: \"center\", fontSize: 25, color:'white'}}> {this.state.playerWins} </h2><br></br>\n                        <h2 style={{textAlign: \"center\", fontSize: 32, color:'white', marginTop:'9%'}}> Ratio : </h2>\n                        <h2 style={{textAlign: \"center\", fontSize: 25, color:'white'}}> {(this.state.playerWins/this.state.donneesstats.length).toFixed(2)} Win(s) per lose </h2><br></br>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col>\n                        <Button style={{color:\"red\", fontSize: 35}}variant=\"outline-info\" onClick={this.handleSubmit} block> Delete my account</Button>\n                    </Col>\n                    \n                </Row>     \n                <CookieConsent\n                                onAccept={localStorage.setItem('Cookies',true)}\n                                location=\"bottom\"\n                                style={{ backgroundColor : 'DarkRed', fontSize:20}}\n                                buttonStyle={{backgroundColor:\"palegoldenrod\", fontSize:20}}\n                                buttonText=\"I agree !\"\n                                expires={365}>\n                             \n                                This website uses cookies, accept them to remove the banner\n                </CookieConsent> \n            </html>\n        );\n    }\n}\n\nexport default Profil;"]},"metadata":{},"sourceType":"module"}