{"ast":null,"code":"var _jsxFileName = \"/home/debian/hosting/projet/client/src/pages/Login/Login.js\";\nimport React from \"react\";\nimport NavigationAutres from \"../../components/NavigationAutres\";\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Container from 'react-bootstrap/Container';\nimport CookieConsent from 'react-cookie-consent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Signin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      bdd: '',\n      emailsPassbdd: '',\n      connected: false,\n      passwordtest: ''\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    for (let i = 0; i < this.state.bdd.length; i++) {\n      if (this.state.email !== this.state.bdd[i].Email) {} else {\n        //alert(\"Mail in bdd\")\n        this.state.passwordtest = this.state.bdd[i].Password;\n        /*let pass=this.state.password\n        var bcrypt = require('bcryptjs');\n        bcrypt.genSalt(10,function(err,salt){\n            bcrypt.hash(pass, salt, function(err, hash){\n            })\n        })*/\n\n        var bcrypt = require('bcryptjs');\n\n        bcrypt.compare(this.state.password, this.state.bdd[i].Password, function (err, res) {\n          if (res) {\n            localStorage.setItem('Connect', true);\n            window.location.href = \"http://135.125.101.210/\";\n          }\n        });\n        localStorage.setItem('Email', this.state.email);\n        localStorage.setItem('Pseudo', this.state.bdd[i].Pseudo);\n        localStorage.getItem('Connect');\n        /*\n        localStorage.setItem('Connect', true)\n        localStorage.setItem('Email', this.state.email)\n        localStorage.setItem('Pseudo', this.state.bdd[i].Pseudo)\n        localStorage.getItem('Connect')\n        window.location.href= \"http://135.125.101.210/\" */\n      }\n    }\n  }\n\n  componentDidMount() {\n    localStorage.setItem('Connect', false);\n    fetch('http://135.125.101.210:5000/loginall').then(response => response.json()).then(json => {\n      this.setState({\n        bdd: json\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"html\", {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"hautpage\",\n            children: /*#__PURE__*/_jsxDEV(NavigationAutres, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.handleSubmit,\n            children: /*#__PURE__*/_jsxDEV(Container, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                className: \"mt-5\",\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    textAlign: \"center\",\n                    fontSize: 30,\n                    color: 'white',\n                    marginTop: '10%',\n                    marginLeft: '33%',\n                    marginRight: '67%'\n                  },\n                  children: [\"Email :\", /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: this.state.email,\n                    onChange: text => this.setState({\n                      email: text.target.value\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                className: \"mt-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    textAlign: \"center\",\n                    fontSize: 30,\n                    color: 'white',\n                    marginTop: '4%',\n                    marginLeft: '33%',\n                    marginRight: '67%'\n                  },\n                  children: [\"Password :\", /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    value: this.state.password,\n                    onChange: text => this.setState({\n                      password: text.target.value\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 46\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 55\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    textAlign: \"center\",\n                    fontSize: 45,\n                    color: 'red',\n                    marginTop: '5%',\n                    marginLeft: '39%'\n                  },\n                  type: \"submit\",\n                  value: \"Connexion\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CookieConsent, {\n        onAccept: localStorage.setItem('Cookies', true),\n        location: \"bottom\",\n        style: {\n          backgroundColor: 'DarkRed',\n          fontSize: 20\n        },\n        buttonStyle: {\n          backgroundColor: \"palegoldenrod\",\n          fontSize: 20\n        },\n        buttonText: \"I agree !\",\n        expires: 365,\n        children: \"This website uses cookies, accept them to remove the banner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Signin;","map":{"version":3,"sources":["/home/debian/hosting/projet/client/src/pages/Login/Login.js"],"names":["React","NavigationAutres","Col","Row","Container","CookieConsent","Signin","Component","constructor","props","state","email","password","bdd","emailsPassbdd","connected","passwordtest","handleSubmit","bind","event","preventDefault","i","length","Email","Password","bcrypt","require","compare","err","res","localStorage","setItem","window","location","href","Pseudo","getItem","componentDidMount","fetch","then","response","json","setState","render","textAlign","fontSize","color","marginTop","marginLeft","marginRight","text","target","value","backgroundColor"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport NavigationAutres from \"../../components/NavigationAutres\";\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\nimport Container from 'react-bootstrap/Container'\nimport CookieConsent from 'react-cookie-consent';\n\nclass Signin extends React.Component {\n\n    constructor(props) {\n        super(props);\n       \n        this.state={\n            email:'',\n            password:'',\n            bdd:'',\n            emailsPassbdd:'',\n            connected:false,\n            passwordtest:'',\n            \n   \n        }\n        \n\n        this.handleSubmit = this.handleSubmit.bind(this);\n      }\n\n      \n\n      \n\n      handleSubmit(event) {\n        event.preventDefault();\n        \n\n\n        \n       \n\n        for (let i=0; i<this.state.bdd.length;i++){\n            if (this.state.email !== this.state.bdd[i].Email){\n            }\n            else{\n                //alert(\"Mail in bdd\")\n                this.state.passwordtest = this.state.bdd[i].Password\n                /*let pass=this.state.password\n                var bcrypt = require('bcryptjs');\n                bcrypt.genSalt(10,function(err,salt){\n                    bcrypt.hash(pass, salt, function(err, hash){\n                    })\n                })*/\n                \n                var bcrypt = require('bcryptjs');\n                bcrypt.compare( this.state.password,this.state.bdd[i].Password, function(err,res){\n                    if(res){\n                        \n                        localStorage.setItem('Connect', true)\n                        \n                        window.location.href= \"http://135.125.101.210/\"\n                        }\n                       \n                })\n                \n                localStorage.setItem('Email', this.state.email)\n                localStorage.setItem('Pseudo', this.state.bdd[i].Pseudo)\n                localStorage.getItem('Connect')\n                /*\n                localStorage.setItem('Connect', true)\n                localStorage.setItem('Email', this.state.email)\n                localStorage.setItem('Pseudo', this.state.bdd[i].Pseudo)\n                localStorage.getItem('Connect')\n                window.location.href= \"http://135.125.101.210/\" */\n            }\n        }\n      }\n\n      componentDidMount(){\n        localStorage.setItem('Connect',false)\n          fetch('http://135.125.101.210:5000/loginall')\n          .then(response => response.json())\n          .then(json => {\n            \n            this.setState({bdd: json})\n            \n          })\n      }\n\n     \n\n    render() {\n        return (\n            <html>\n                <Row>  \n                    <Col>\n                        <div class=\"hautpage\">\n                            <NavigationAutres />\n                        </div> \n                    </Col> \n                </Row>\n                <Row>\n                    <Col>\n                        <form onSubmit={this.handleSubmit}>\n                            <Container>\n                                <Col className=\"mt-5\">\n                                    <label style={{textAlign: \"center\", fontSize: 30, color:'white',marginTop:'10%',marginLeft:'33%',marginRight:'67%'}}>\n                                        Email :\n                                        <input type=\"text\" value={this.state.email} onChange={text => this.setState({email: text.target.value})} />\n                                    </label>\n                                </Col>\n                                <Col className=\"mt-5\">\n                                    <label style={{textAlign: \"center\", fontSize: 30, color:'white',marginTop:'4%',marginLeft:'33%',marginRight:'67%'}}>\n                                        Password :\n                                        <input type=\"password\" value={this.state.password} onChange={text => this.setState({password: text.target.value})} />\n                                    </label>\n                                    <br></br><br></br><br></br>\n                                    <input style={{textAlign: \"center\", fontSize: 45, color:'red',marginTop:'5%', marginLeft:'39%'}} type=\"submit\" value=\"Connexion\" />\n                                </Col>\n                            </Container>\n                        </form>  \n                    </Col>\n                </Row> \n                <CookieConsent\n                                onAccept={localStorage.setItem('Cookies',true)}\n                                location=\"bottom\"\n                                style={{ backgroundColor : 'DarkRed', fontSize:20}}\n                                buttonStyle={{backgroundColor:\"palegoldenrod\", fontSize:20}}\n                                buttonText=\"I agree !\"\n                                expires={365}>\n                             \n                                This website uses cookies, accept them to remove the banner\n                </CookieConsent>    \n            </html>\n        );\n    }\n}\n\nexport default Signin"]},"metadata":{},"sourceType":"module"}